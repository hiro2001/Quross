//クロール、トロット、旋回

#include "mbed.h"
#define ON 1
#define OFF 0

Serial serial_servo(p9,p10);
Serial pc(USBTX,USBRX);

unsigned short mask_h = 65408; //マスク処理上8bits(0b1111111110000000)
unsigned short mask_l = 127;   //マスク処理下8bits(0b0000000001111111)

int i,j,k;
int n;
int p=1;
int open_count=0;
int count=0;
char ch,flag_open_crawl,flag_close,flag_open_trot,flag_left_turn,flag_right_turn;
unsigned char tx[3];
unsigned char rx[10];
int open_crawl_max=10;
int open_trot_max=50;
int crawl_max=100;
int trot_max=40;
int turn_max=100;
int pose_max=100;
int cross_max=100;
//                           -LB-                       -LF-                       -RB-                       -RF-
int open_crawl[10][12]={{8780,7600,10277,8780,7600,10277,8780,7600,10277,8780,7600,10277},
{8741,7600,10260,8741,7600,10260,8741,7600,10260,8741,7600,10260},
{8701,7600,10243,8701,7600,10243,8701,7600,10243,8701,7600,10243},
{8662,7600,10225,8662,7600,10225,8662,7600,10225,8662,7600,10225},
{8622,7600,10207,8622,7600,10207,8622,7600,10207,8622,7600,10207},
{8583,7600,10188,8583,7600,10188,8583,7600,10188,8583,7600,10188},
{8544,7600,10169,8544,7600,10169,8544,7600,10169,8544,7600,10169},
{8505,7600,10150,8505,7600,10150,8505,7600,10150,8505,7600,10150},
{8466,7600,10130,8466,7600,10130,8466,7600,10130,8466,7600,10130},
{8428,7600,10110,8428,7600,10110,8428,7600,10110,8428,7600,10110}};

int open_trot[50][12]={{8792,7600,10282,8792,7600,10282,8792,7600,10282,8792,7600,10282},
{8764,7600,10270,8764,7600,10270,8764,7600,10270,8764,7600,10270},
{8737,7600,10258,8737,7600,10258,8737,7600,10258,8737,7600,10258},
{8709,7600,10246,8709,7600,10246,8709,7600,10246,8709,7600,10246},
{8681,7600,10234,8681,7600,10234,8681,7600,10234,8681,7600,10234},
{8654,7600,10221,8654,7600,10221,8654,7600,10221,8654,7600,10221},
{8626,7600,10209,8626,7600,10209,8626,7600,10209,8626,7600,10209},
{8599,7600,10196,8599,7600,10196,8599,7600,10196,8599,7600,10196},
{8572,7600,10183,8572,7600,10183,8572,7600,10183,8572,7600,10183},
{8544,7600,10169,8544,7600,10169,8544,7600,10169,8544,7600,10169},
{8517,7600,10156,8517,7600,10156,8517,7600,10156,8517,7600,10156},
{8490,7600,10142,8490,7600,10142,8490,7600,10142,8490,7600,10142},
{8463,7600,10128,8463,7600,10128,8463,7600,10128,8463,7600,10128},
{8435,7600,10114,8435,7600,10114,8435,7600,10114,8435,7600,10114},
{8408,7600,10100,8408,7600,10100,8408,7600,10100,8408,7600,10100},
{8381,7600,10085,8381,7600,10085,8381,7600,10085,8381,7600,10085},
{8354,7600,10070,8354,7600,10070,8354,7600,10070,8354,7600,10070},
{8328,7600,10056,8328,7600,10056,8328,7600,10056,8328,7600,10056},
{8301,7600,10040,8301,7600,10040,8301,7600,10040,8301,7600,10040},
{8274,7600,10025,8274,7600,10025,8274,7600,10025,8274,7600,10025},
{8247,7600,10010,8247,7600,10010,8247,7600,10010,8247,7600,10010},
{8221,7600,9994,8221,7600,9994,8221,7600,9994,8221,7600,9994},
{8194,7600,9978,8194,7600,9978,8194,7600,9978,8194,7600,9978},
{8167,7600,9962,8167,7600,9962,8167,7600,9962,8167,7600,9962},
{8141,7600,9946,8141,7600,9946,8141,7600,9946,8141,7600,9946},
{8114,7600,9930,8114,7600,9930,8114,7600,9930,8114,7600,9930},
{8088,7600,9913,8088,7600,9913,8088,7600,9913,8088,7600,9913},
{8062,7600,9896,8062,7600,9896,8062,7600,9896,8062,7600,9896},
{8035,7600,9879,8035,7600,9879,8035,7600,9879,8035,7600,9879},
{8009,7600,9862,8009,7600,9862,8009,7600,9862,8009,7600,9862},
{7983,7600,9845,7983,7600,9845,7983,7600,9845,7983,7600,9845},
{7956,7600,9827,7956,7600,9827,7956,7600,9827,7956,7600,9827},
{7930,7600,9809,7930,7600,9809,7930,7600,9809,7930,7600,9809},
{7904,7600,9791,7904,7600,9791,7904,7600,9791,7904,7600,9791},
{7878,7600,9773,7878,7600,9773,7878,7600,9773,7878,7600,9773},
{7851,7600,9755,7851,7600,9755,7851,7600,9755,7851,7600,9755},
{7825,7600,9736,7825,7600,9736,7825,7600,9736,7825,7600,9736},
{7799,7600,9717,7799,7600,9717,7799,7600,9717,7799,7600,9717},
{7773,7600,9698,7773,7600,9698,7773,7600,9698,7773,7600,9698},
{7747,7600,9679,7747,7600,9679,7747,7600,9679,7747,7600,9679},
{7720,7600,9660,7720,7600,9660,7720,7600,9660,7720,7600,9660},
{7694,7600,9640,7694,7600,9640,7694,7600,9640,7694,7600,9640},
{7668,7600,9620,7668,7600,9620,7668,7600,9620,7668,7600,9620},
{7642,7600,9600,7642,7600,9600,7642,7600,9600,7642,7600,9600},
{7615,7600,9579,7615,7600,9579,7615,7600,9579,7615,7600,9579},
{7589,7600,9559,7589,7600,9559,7589,7600,9559,7589,7600,9559},
{7563,7600,9538,7563,7600,9538,7563,7600,9538,7563,7600,9538},
{7536,7600,9517,7536,7600,9517,7536,7600,9517,7536,7600,9517},
{7510,7600,9495,7510,7600,9495,7510,7600,9495,7510,7600,9495},
{7483,7600,9474,7483,7600,9474,7483,7600,9474,7483,7600,9474}};

int crawl[100][12]={{8238,7191,9637,8443,7355,10292,8445,7499,10195,8275,7299,9762},
{8304,7206,9687,8441,7342,10299,8443,7510,10186,8283,7310,9775},
{8377,7230,9749,8440,7330,10306,8442,7522,10177,8290,7320,9789},
{8453,7262,9819,8438,7317,10313,8441,7533,10168,8297,7330,9803},
{8530,7302,9897,8436,7304,10320,8439,7544,10159,8305,7340,9816},
{8605,7349,9979,8433,7292,10327,8437,7556,10149,8312,7350,9829},
{8674,7403,10062,8431,7279,10333,8435,7567,10139,8318,7360,9843},
{8735,7463,10144,8428,7266,10339,8433,7578,10130,8325,7370,9856},
{8785,7529,10222,8425,7253,10345,8430,7589,10120,8331,7380,9868},
{8820,7600,10293,8421,7240,10351,8428,7600,10110,8338,7390,9881},
{8839,7675,10356,8418,7227,10357,8425,7611,10099,8344,7401,9894},
{8839,7751,10407,8414,7213,10363,8422,7622,10089,8350,7411,9906},
{8821,7827,10447,8410,7200,10368,8418,7633,10079,8356,7421,9919},
{8786,7898,10473,8406,7187,10373,8415,7643,10068,8361,7431,9931},
{8734,7962,10487,8401,7173,10378,8412,7654,10057,8367,7441,9943},
{8670,8016,10489,8397,7160,10383,8408,7665,10046,8372,7452,9955},
{8598,8057,10479,8392,7146,10388,8404,7675,10036,8377,7462,9967},
{8522,8084,10461,8386,7133,10393,8400,7686,10024,8382,7472,9979},
{8446,8096,10434,8381,7119,10397,8396,7696,10013,8387,7483,9990},
{8375,8094,10402,8375,7106,10402,8391,7707,10002,8391,7493,10002},
{8381,8081,10397,8446,7104,10434,8387,7717,9990,8396,7504,10013},
{8386,8067,10393,8522,7116,10461,8382,7728,9979,8400,7514,10024},
{8392,8054,10388,8598,7143,10479,8377,7738,9967,8404,7525,10036},
{8397,8040,10383,8670,7184,10489,8372,7748,9955,8408,7535,10046},
{8401,8027,10378,8734,7238,10487,8367,7759,9943,8412,7546,10057},
{8406,8013,10373,8786,7302,10473,8361,7769,9931,8415,7557,10068},
{8410,8000,10368,8821,7373,10447,8356,7779,9919,8418,7567,10079},
{8414,7987,10363,8839,7449,10407,8350,7789,9906,8422,7578,10089},
{8418,7973,10357,8839,7525,10356,8344,7799,9894,8425,7589,10099},
{8421,7960,10351,8820,7600,10293,8338,7810,9881,8428,7600,10110},
{8425,7947,10345,8785,7671,10222,8331,7820,9868,8430,7611,10120},
{8428,7934,10339,8735,7737,10144,8325,7830,9856,8433,7622,10130},
{8431,7921,10333,8674,7797,10062,8318,7840,9843,8435,7633,10139},
{8433,7908,10327,8605,7851,9979,8312,7850,9829,8437,7644,10149},
{8436,7896,10320,8530,7898,9897,8305,7860,9816,8439,7656,10159},
{8438,7883,10313,8453,7938,9819,8297,7870,9803,8441,7667,10168},
{8440,7870,10306,8377,7970,9749,8290,7880,9789,8442,7678,10177},
{8441,7858,10299,8304,7994,9687,8283,7890,9775,8443,7690,10186},
{8443,7845,10292,8238,8009,9637,8275,7901,9762,8445,7701,10195},
{8444,7833,10285,8179,8014,9600,8267,7911,9748,8446,7713,10204},
{8445,7820,10278,8189,8004,9616,8259,7921,9734,8446,7724,10213},
{8446,7808,10270,8198,7993,9631,8251,7931,9719,8447,7736,10222},
{8447,7796,10262,8207,7983,9646,8243,7941,9705,8447,7748,10230},
{8447,7784,10254,8216,7972,9661,8234,7952,9690,8447,7760,10238},
{8447,7772,10246,8225,7962,9676,8225,7962,9676,8447,7772,10246},
{8447,7760,10238,8234,7952,9690,8216,7972,9661,8447,7784,10254},
{8447,7748,10230,8243,7941,9705,8207,7983,9646,8447,7796,10262},
{8447,7736,10222,8251,7931,9719,8198,7993,9631,8446,7808,10270},
{8446,7724,10213,8259,7921,9734,8189,8004,9616,8445,7820,10278},
{8446,7713,10204,8267,7911,9748,8179,8014,9600,8444,7833,10285},
{8445,7701,10195,8275,7901,9762,8238,8009,9637,8443,7845,10292},
{8443,7690,10186,8283,7890,9775,8304,7994,9687,8441,7858,10299},
{8442,7678,10177,8290,7880,9789,8377,7970,9749,8440,7870,10306},
{8441,7667,10168,8297,7870,9803,8453,7938,9819,8438,7883,10313},
{8439,7656,10159,8305,7860,9816,8530,7898,9897,8436,7896,10320},
{8437,7644,10149,8312,7850,9829,8605,7851,9979,8433,7908,10327},
{8435,7633,10139,8318,7840,9843,8674,7797,10062,8431,7921,10333},
{8433,7622,10130,8325,7830,9856,8735,7737,10144,8428,7934,10339},
{8430,7611,10120,8331,7820,9868,8785,7671,10222,8425,7947,10345},
{8428,7600,10110,8338,7810,9881,8820,7600,10293,8421,7960,10351},
{8425,7589,10099,8344,7799,9894,8839,7525,10356,8418,7973,10357},
{8422,7578,10089,8350,7789,9906,8839,7449,10407,8414,7987,10363},
{8418,7567,10079,8356,7779,9919,8821,7373,10447,8410,8000,10368},
{8415,7557,10068,8361,7769,9931,8786,7302,10473,8406,8013,10373},
{8412,7546,10057,8367,7759,9943,8734,7238,10487,8401,8027,10378},
{8408,7535,10046,8372,7748,9955,8670,7184,10489,8397,8040,10383},
{8404,7525,10036,8377,7738,9967,8598,7143,10479,8392,8054,10388},
{8400,7514,10024,8382,7728,9979,8522,7116,10461,8386,8067,10393},
{8396,7504,10013,8387,7717,9990,8446,7104,10434,8381,8081,10397},
{8391,7493,10002,8391,7707,10002,8375,7106,10402,8375,8094,10402},
{8387,7483,9990,8396,7696,10013,8381,7119,10397,8446,8096,10434},
{8382,7472,9979,8400,7686,10024,8386,7133,10393,8522,8084,10461},
{8377,7462,9967,8404,7675,10036,8392,7146,10388,8598,8057,10479},
{8372,7452,9955,8408,7665,10046,8397,7160,10383,8670,8016,10489},
{8367,7441,9943,8412,7654,10057,8401,7173,10378,8734,7962,10487},
{8361,7431,9931,8415,7643,10068,8406,7187,10373,8786,7898,10473},
{8356,7421,9919,8418,7633,10079,8410,7200,10368,8821,7827,10447},
{8350,7411,9906,8422,7622,10089,8414,7213,10363,8839,7751,10407},
{8344,7401,9894,8425,7611,10099,8418,7227,10357,8839,7675,10356},
{8338,7390,9881,8428,7600,10110,8421,7240,10351,8820,7600,10293},
{8331,7380,9868,8430,7589,10120,8425,7253,10345,8785,7529,10222},
{8325,7370,9856,8433,7578,10130,8428,7266,10339,8735,7463,10144},
{8318,7360,9843,8435,7567,10139,8431,7279,10333,8674,7403,10062},
{8312,7350,9829,8437,7556,10149,8433,7292,10327,8605,7349,9979},
{8305,7340,9816,8439,7544,10159,8436,7304,10320,8530,7302,9897},
{8297,7330,9803,8441,7533,10168,8438,7317,10313,8453,7262,9819},
{8290,7320,9789,8442,7522,10177,8440,7330,10306,8377,7230,9749},
{8283,7310,9775,8443,7510,10186,8441,7342,10299,8304,7206,9687},
{8275,7299,9762,8445,7499,10195,8443,7355,10292,8238,7191,9637},
{8267,7289,9748,8446,7487,10204,8444,7367,10285,8179,7186,9600},
{8259,7279,9734,8446,7476,10213,8445,7380,10278,8189,7196,9616},
{8251,7269,9719,8447,7464,10222,8446,7392,10270,8198,7207,9631},
{8243,7259,9705,8447,7452,10230,8447,7404,10262,8207,7217,9646},
{8234,7248,9690,8447,7440,10238,8447,7416,10254,8216,7228,9661},
{8225,7238,9676,8447,7428,10246,8447,7428,10246,8225,7238,9676},
{8216,7228,9661,8447,7416,10254,8447,7440,10238,8234,7248,9690},
{8207,7217,9646,8447,7404,10262,8447,7452,10230,8243,7259,9705},
{8198,7207,9631,8446,7392,10270,8447,7464,10222,8251,7269,9719},
{8189,7196,9616,8445,7380,10278,8446,7476,10213,8259,7279,9734},
{8179,7186,9600,8444,7367,10285,8446,7487,10204,8267,7289,9748},
};

int trot[40][12]={{7436,7316,9212,7391,7860,9194,7465,7353,9660,7516,7872,9722},
{7501,7330,9273,7407,7829,9231,7472,7381,9644,7577,7863,9762},
{7566,7350,9339,7422,7798,9265,7478,7408,9626,7636,7847,9795},
{7629,7375,9406,7435,7769,9299,7483,7436,9608,7693,7824,9820},
{7688,7405,9474,7446,7740,9331,7486,7463,9588,7744,7796,9835},
{7741,7439,9541,7456,7711,9362,7488,7490,9567,7788,7763,9841},
{7786,7476,9604,7465,7683,9392,7489,7518,9545,7823,7726,9836},
{7821,7515,9663,7473,7655,9420,7488,7545,9523,7847,7685,9821},
{7846,7557,9715,7479,7628,9447,7486,7573,9499,7859,7643,9795},
{7859,7600,9760,7483,7600,9474,7483,7600,9474,7859,7600,9760},
{7859,7643,9795,7486,7573,9499,7479,7628,9447,7846,7557,9715},
{7847,7685,9821,7488,7545,9523,7473,7655,9420,7821,7515,9663},
{7823,7726,9836,7489,7518,9545,7465,7683,9392,7786,7476,9604},
{7788,7763,9841,7488,7490,9567,7456,7711,9362,7741,7439,9541},
{7744,7796,9835,7486,7463,9588,7446,7740,9331,7688,7405,9474},
{7693,7824,9820,7483,7436,9608,7435,7769,9299,7629,7375,9406},
{7636,7847,9795,7478,7408,9626,7422,7798,9265,7566,7350,9339},
{7577,7863,9762,7472,7381,9644,7407,7829,9231,7501,7330,9273},
{7516,7872,9722,7465,7353,9660,7391,7860,9194,7436,7316,9212},
{7456,7875,9676,7456,7325,9676,7373,7891,9157,7373,7309,9157},
{7465,7847,9660,7516,7328,9722,7436,7884,9212,7391,7340,9194},
{7472,7819,9644,7577,7337,9762,7501,7870,9273,7407,7371,9231},
{7478,7792,9626,7636,7353,9795,7566,7850,9339,7422,7402,9265},
{7483,7764,9608,7693,7376,9820,7629,7825,9406,7435,7431,9299},
{7486,7737,9588,7744,7404,9835,7688,7795,9474,7446,7460,9331},
{7488,7710,9567,7788,7437,9841,7741,7761,9541,7456,7489,9362},
{7489,7682,9545,7823,7474,9836,7786,7724,9604,7465,7517,9392},
{7488,7655,9523,7847,7515,9821,7821,7685,9663,7473,7545,9420},
{7486,7627,9499,7859,7557,9795,7846,7643,9715,7479,7572,9447},
{7483,7600,9474,7859,7600,9760,7859,7600,9760,7483,7600,9474},
{7479,7572,9447,7846,7643,9715,7859,7557,9795,7486,7627,9499},
{7473,7545,9420,7821,7685,9663,7847,7515,9821,7488,7655,9523},
{7465,7517,9392,7786,7724,9604,7823,7474,9836,7489,7682,9545},
{7456,7489,9362,7741,7761,9541,7788,7437,9841,7488,7710,9567},
{7446,7460,9331,7688,7795,9474,7744,7404,9835,7486,7737,9588},
{7435,7431,9299,7629,7825,9406,7693,7376,9820,7483,7764,9608},
{7422,7402,9265,7566,7850,9339,7636,7353,9795,7478,7792,9626},
{7407,7371,9231,7501,7870,9273,7577,7337,9762,7472,7819,9644},
{7391,7340,9194,7436,7884,9212,7516,7328,9722,7465,7847,9660},
{7373,7309,9157,7373,7891,9157,7456,7325,9676,7456,7875,9676}};

int left[100][12]={{8414,7248,10135,8414,7752,10135,8236,6747,10089,8286,8258,10114},
{8418,7268,10135,8411,7773,10134,8247,6767,10092,8367,8204,10146},
{8421,7288,10136,8407,7793,10133,8258,6787,10094,8444,8148,10176},
{8423,7308,10137,8403,7813,10131,8268,6807,10097,8515,8091,10204},
{8426,7328,10138,8399,7833,10130,8278,6827,10099,8580,8033,10230},
{8428,7348,10138,8394,7853,10129,8288,6846,10102,8639,7974,10252},
{8430,7369,10139,8389,7873,10128,8297,6866,10104,8691,7913,10272},
{8432,7389,10139,8384,7893,10126,8306,6886,10106,8735,7852,10289},
{8433,7409,10140,8378,7914,10125,8315,6906,10108,8771,7789,10303},
{8434,7429,10140,8372,7934,10123,8323,6926,10110,8799,7726,10313},
{8435,7449,10140,8366,7954,10122,8331,6946,10112,8819,7662,10321},
{8435,7470,10140,8360,7974,10120,8339,6966,10114,8830,7597,10325},
{8436,7490,10140,8353,7994,10118,8346,6986,10116,8832,7532,10326},
{8436,7510,10140,8346,8014,10116,8353,7006,10118,8825,7468,10323},
{8435,7530,10140,8339,8034,10114,8360,7026,10120,8811,7403,10317},
{8435,7551,10140,8331,8054,10112,8366,7046,10122,8787,7339,10308},
{8434,7571,10140,8323,8074,10110,8372,7066,10123,8756,7276,10295},
{8433,7591,10140,8315,8094,10108,8378,7086,10125,8717,7214,10280},
{8432,7611,10139,8306,8114,10106,8384,7107,10126,8670,7152,10261},
{8430,7631,10139,8297,8134,10104,8389,7127,10128,8617,7092,10240},
{8428,7652,10138,8288,8154,10102,8394,7147,10129,8557,7033,10216},
{8426,7672,10138,8278,8173,10099,8399,7167,10130,8492,6975,10189},
{8423,7692,10137,8268,8193,10097,8403,7187,10131,8421,6918,10160},
{8421,7712,10136,8258,8213,10094,8407,7207,10133,8347,6862,10129},
{8418,7732,10135,8247,8233,10092,8411,7227,10134,8268,6807,10097},
{8414,7752,10135,8286,8258,10114,8414,7248,10135,8236,6747,10089},
{8411,7773,10134,8367,8204,10146,8418,7268,10135,8247,6767,10092},
{8407,7793,10133,8444,8148,10176,8421,7288,10136,8258,6787,10094},
{8403,7813,10131,8515,8091,10204,8423,7308,10137,8268,6807,10097},
{8399,7833,10130,8580,8033,10230,8426,7328,10138,8278,6827,10099},
{8394,7853,10129,8639,7974,10252,8428,7348,10138,8288,6846,10102},
{8389,7873,10128,8691,7913,10272,8430,7369,10139,8297,6866,10104},
{8384,7893,10126,8735,7852,10289,8432,7389,10139,8306,6886,10106},
{8378,7914,10125,8771,7789,10303,8433,7409,10140,8315,6906,10108},
{8372,7934,10123,8799,7726,10313,8434,7429,10140,8323,6926,10110},
{8366,7954,10122,8819,7662,10321,8435,7449,10140,8331,6946,10112},
{8360,7974,10120,8830,7597,10325,8435,7470,10140,8339,6966,10114},
{8353,7994,10118,8832,7532,10326,8436,7490,10140,8346,6986,10116},
{8346,8014,10116,8825,7468,10323,8436,7510,10140,8353,7006,10118},
{8339,8034,10114,8811,7403,10317,8435,7530,10140,8360,7026,10120},
{8331,8054,10112,8787,7339,10308,8435,7551,10140,8366,7046,10122},
{8323,8074,10110,8756,7276,10295,8434,7571,10140,8372,7066,10123},
{8315,8094,10108,8717,7214,10280,8433,7591,10140,8378,7086,10125},
{8306,8114,10106,8670,7152,10261,8432,7611,10139,8384,7107,10126},
{8297,8134,10104,8617,7092,10240,8430,7631,10139,8389,7127,10128},
{8288,8154,10102,8557,7033,10216,8428,7652,10138,8394,7147,10129},
{8278,8173,10099,8492,6975,10189,8426,7672,10138,8399,7167,10130},
{8268,8193,10097,8421,6918,10160,8423,7692,10137,8403,7187,10131},
{8258,8213,10094,8347,6862,10129,8421,7712,10136,8407,7207,10133},
{8247,8233,10092,8268,6807,10097,8418,7732,10135,8411,7227,10134},
{8286,8258,10114,8236,6747,10089,8414,7752,10135,8414,7248,10135},
{8367,8204,10146,8247,6767,10092,8411,7773,10134,8418,7268,10135},
{8444,8148,10176,8258,6787,10094,8407,7793,10133,8421,7288,10136},
{8515,8091,10204,8268,6807,10097,8403,7813,10131,8423,7308,10137},
{8580,8033,10230,8278,6827,10099,8399,7833,10130,8426,7328,10138},
{8639,7974,10252,8288,6846,10102,8394,7853,10129,8428,7348,10138},
{8691,7913,10272,8297,6866,10104,8389,7873,10128,8430,7369,10139},
{8735,7852,10289,8306,6886,10106,8384,7893,10126,8432,7389,10139},
{8771,7789,10303,8315,6906,10108,8378,7914,10125,8433,7409,10140},
{8799,7726,10313,8323,6926,10110,8372,7934,10123,8434,7429,10140},
{8819,7662,10321,8331,6946,10112,8366,7954,10122,8435,7449,10140},
{8830,7597,10325,8339,6966,10114,8360,7974,10120,8435,7470,10140},
{8832,7532,10326,8346,6986,10116,8353,7994,10118,8436,7490,10140},
{8825,7468,10323,8353,7006,10118,8346,8014,10116,8436,7510,10140},
{8811,7403,10317,8360,7026,10120,8339,8034,10114,8435,7530,10140},
{8787,7339,10308,8366,7046,10122,8331,8054,10112,8435,7551,10140},
{8756,7276,10295,8372,7066,10123,8323,8074,10110,8434,7571,10140},
{8717,7214,10280,8378,7086,10125,8315,8094,10108,8433,7591,10140},
{8670,7152,10261,8384,7107,10126,8306,8114,10106,8432,7611,10139},
{8617,7092,10240,8389,7127,10128,8297,8134,10104,8430,7631,10139},
{8557,7033,10216,8394,7147,10129,8288,8154,10102,8428,7652,10138},
{8492,6975,10189,8399,7167,10130,8278,8173,10099,8426,7672,10138},
{8421,6918,10160,8403,7187,10131,8268,8193,10097,8423,7692,10137},
{8347,6862,10129,8407,7207,10133,8258,8213,10094,8421,7712,10136},
{8268,6807,10097,8411,7227,10134,8247,8233,10092,8418,7732,10135},
{8236,6747,10089,8414,7248,10135,8286,8258,10114,8414,7752,10135},
{8247,6767,10092,8418,7268,10135,8367,8204,10146,8411,7773,10134},
{8258,6787,10094,8421,7288,10136,8444,8148,10176,8407,7793,10133},
{8268,6807,10097,8423,7308,10137,8515,8091,10204,8403,7813,10131},
{8278,6827,10099,8426,7328,10138,8580,8033,10230,8399,7833,10130},
{8288,6846,10102,8428,7348,10138,8639,7974,10252,8394,7853,10129},
{8297,6866,10104,8430,7369,10139,8691,7913,10272,8389,7873,10128},
{8306,6886,10106,8432,7389,10139,8735,7852,10289,8384,7893,10126},
{8315,6906,10108,8433,7409,10140,8771,7789,10303,8378,7914,10125},
{8323,6926,10110,8434,7429,10140,8799,7726,10313,8372,7934,10123},
{8331,6946,10112,8435,7449,10140,8819,7662,10321,8366,7954,10122},
{8339,6966,10114,8435,7470,10140,8830,7597,10325,8360,7974,10120},
{8346,6986,10116,8436,7490,10140,8832,7532,10326,8353,7994,10118},
{8353,7006,10118,8436,7510,10140,8825,7468,10323,8346,8014,10116},
{8360,7026,10120,8435,7530,10140,8811,7403,10317,8339,8034,10114},
{8366,7046,10122,8435,7551,10140,8787,7339,10308,8331,8054,10112},
{8372,7066,10123,8434,7571,10140,8756,7276,10295,8323,8074,10110},
{8378,7086,10125,8433,7591,10140,8717,7214,10280,8315,8094,10108},
{8384,7107,10126,8432,7611,10139,8670,7152,10261,8306,8114,10106},
{8389,7127,10128,8430,7631,10139,8617,7092,10240,8297,8134,10104},
{8394,7147,10129,8428,7652,10138,8557,7033,10216,8288,8154,10102},
{8399,7167,10130,8426,7672,10138,8492,6975,10189,8278,8173,10099},
{8403,7187,10131,8423,7692,10137,8421,6918,10160,8268,8193,10097},
{8407,7207,10133,8421,7712,10136,8347,6862,10129,8258,8213,10094},
{8411,7227,10134,8418,7732,10135,8268,6807,10097,8247,8233,10092}};

int right[100][12]={{8414,7248,10135,8414,7752,10135,8286,6742,10114,8236,8253,10089},
{8411,7227,10134,8418,7732,10135,8367,6796,10146,8247,8233,10092},
{8407,7207,10133,8421,7712,10136,8444,6852,10176,8258,8213,10094},
{8403,7187,10131,8423,7692,10137,8515,6909,10204,8268,8193,10097},
{8399,7167,10130,8426,7672,10138,8580,6967,10230,8278,8173,10099},
{8394,7147,10129,8428,7652,10138,8639,7026,10252,8288,8154,10102},
{8389,7127,10128,8430,7631,10139,8691,7087,10272,8297,8134,10104},
{8384,7107,10126,8432,7611,10139,8735,7148,10289,8306,8114,10106},
{8378,7086,10125,8433,7591,10140,8771,7211,10303,8315,8094,10108},
{8372,7066,10123,8434,7571,10140,8799,7274,10313,8323,8074,10110},
{8366,7046,10122,8435,7551,10140,8819,7338,10321,8331,8054,10112},
{8360,7026,10120,8435,7530,10140,8830,7403,10325,8339,8034,10114},
{8353,7006,10118,8436,7510,10140,8832,7468,10326,8346,8014,10116},
{8346,6986,10116,8436,7490,10140,8825,7532,10323,8353,7994,10118},
{8339,6966,10114,8435,7470,10140,8811,7597,10317,8360,7974,10120},
{8331,6946,10112,8435,7449,10140,8787,7661,10308,8366,7954,10122},
{8323,6926,10110,8434,7429,10140,8756,7724,10295,8372,7934,10123},
{8315,6906,10108,8433,7409,10140,8717,7786,10280,8378,7914,10125},
{8306,6886,10106,8432,7389,10139,8670,7848,10261,8384,7893,10126},
{8297,6866,10104,8430,7369,10139,8617,7908,10240,8389,7873,10128},
{8288,6846,10102,8428,7348,10138,8557,7967,10216,8394,7853,10129},
{8278,6827,10099,8426,7328,10138,8492,8025,10189,8399,7833,10130},
{8268,6807,10097,8423,7308,10137,8421,8082,10160,8403,7813,10131},
{8258,6787,10094,8421,7288,10136,8347,8138,10129,8407,7793,10133},
{8247,6767,10092,8418,7268,10135,8268,8193,10097,8411,7773,10134},
{8286,6742,10114,8414,7248,10135,8236,8253,10089,8414,7752,10135},
{8367,6796,10146,8411,7227,10134,8247,8233,10092,8418,7732,10135},
{8444,6852,10176,8407,7207,10133,8258,8213,10094,8421,7712,10136},
{8515,6909,10204,8403,7187,10131,8268,8193,10097,8423,7692,10137},
{8580,6967,10230,8399,7167,10130,8278,8173,10099,8426,7672,10138},
{8639,7026,10252,8394,7147,10129,8288,8154,10102,8428,7652,10138},
{8691,7087,10272,8389,7127,10128,8297,8134,10104,8430,7631,10139},
{8735,7148,10289,8384,7107,10126,8306,8114,10106,8432,7611,10139},
{8771,7211,10303,8378,7086,10125,8315,8094,10108,8433,7591,10140},
{8799,7274,10313,8372,7066,10123,8323,8074,10110,8434,7571,10140},
{8819,7338,10321,8366,7046,10122,8331,8054,10112,8435,7551,10140},
{8830,7403,10325,8360,7026,10120,8339,8034,10114,8435,7530,10140},
{8832,7468,10326,8353,7006,10118,8346,8014,10116,8436,7510,10140},
{8825,7532,10323,8346,6986,10116,8353,7994,10118,8436,7490,10140},
{8811,7597,10317,8339,6966,10114,8360,7974,10120,8435,7470,10140},
{8787,7661,10308,8331,6946,10112,8366,7954,10122,8435,7449,10140},
{8756,7724,10295,8323,6926,10110,8372,7934,10123,8434,7429,10140},
{8717,7786,10280,8315,6906,10108,8378,7914,10125,8433,7409,10140},
{8670,7848,10261,8306,6886,10106,8384,7893,10126,8432,7389,10139},
{8617,7908,10240,8297,6866,10104,8389,7873,10128,8430,7369,10139},
{8557,7967,10216,8288,6846,10102,8394,7853,10129,8428,7348,10138},
{8492,8025,10189,8278,6827,10099,8399,7833,10130,8426,7328,10138},
{8421,8082,10160,8268,6807,10097,8403,7813,10131,8423,7308,10137},
{8347,8138,10129,8258,6787,10094,8407,7793,10133,8421,7288,10136},
{8268,8193,10097,8247,6767,10092,8411,7773,10134,8418,7268,10135},
{8236,8253,10089,8286,6742,10114,8414,7752,10135,8414,7248,10135},
{8247,8233,10092,8367,6796,10146,8418,7732,10135,8411,7227,10134},
{8258,8213,10094,8444,6852,10176,8421,7712,10136,8407,7207,10133},
{8268,8193,10097,8515,6909,10204,8423,7692,10137,8403,7187,10131},
{8278,8173,10099,8580,6967,10230,8426,7672,10138,8399,7167,10130},
{8288,8154,10102,8639,7026,10252,8428,7652,10138,8394,7147,10129},
{8297,8134,10104,8691,7087,10272,8430,7631,10139,8389,7127,10128},
{8306,8114,10106,8735,7148,10289,8432,7611,10139,8384,7107,10126},
{8315,8094,10108,8771,7211,10303,8433,7591,10140,8378,7086,10125},
{8323,8074,10110,8799,7274,10313,8434,7571,10140,8372,7066,10123},
{8331,8054,10112,8819,7338,10321,8435,7551,10140,8366,7046,10122},
{8339,8034,10114,8830,7403,10325,8435,7530,10140,8360,7026,10120},
{8346,8014,10116,8832,7468,10326,8436,7510,10140,8353,7006,10118},
{8353,7994,10118,8825,7532,10323,8436,7490,10140,8346,6986,10116},
{8360,7974,10120,8811,7597,10317,8435,7470,10140,8339,6966,10114},
{8366,7954,10122,8787,7661,10308,8435,7449,10140,8331,6946,10112},
{8372,7934,10123,8756,7724,10295,8434,7429,10140,8323,6926,10110},
{8378,7914,10125,8717,7786,10280,8433,7409,10140,8315,6906,10108},
{8384,7893,10126,8670,7848,10261,8432,7389,10139,8306,6886,10106},
{8389,7873,10128,8617,7908,10240,8430,7369,10139,8297,6866,10104},
{8394,7853,10129,8557,7967,10216,8428,7348,10138,8288,6846,10102},
{8399,7833,10130,8492,8025,10189,8426,7328,10138,8278,6827,10099},
{8403,7813,10131,8421,8082,10160,8423,7308,10137,8268,6807,10097},
{8407,7793,10133,8347,8138,10129,8421,7288,10136,8258,6787,10094},
{8411,7773,10134,8268,8193,10097,8418,7268,10135,8247,6767,10092},
{8414,7752,10135,8236,8253,10089,8414,7248,10135,8286,6742,10114},
{8418,7732,10135,8247,8233,10092,8411,7227,10134,8367,6796,10146},
{8421,7712,10136,8258,8213,10094,8407,7207,10133,8444,6852,10176},
{8423,7692,10137,8268,8193,10097,8403,7187,10131,8515,6909,10204},
{8426,7672,10138,8278,8173,10099,8399,7167,10130,8580,6967,10230},
{8428,7652,10138,8288,8154,10102,8394,7147,10129,8639,7026,10252},
{8430,7631,10139,8297,8134,10104,8389,7127,10128,8691,7087,10272},
{8432,7611,10139,8306,8114,10106,8384,7107,10126,8735,7148,10289},
{8433,7591,10140,8315,8094,10108,8378,7086,10125,8771,7211,10303},
{8434,7571,10140,8323,8074,10110,8372,7066,10123,8799,7274,10313},
{8435,7551,10140,8331,8054,10112,8366,7046,10122,8819,7338,10321},
{8435,7530,10140,8339,8034,10114,8360,7026,10120,8830,7403,10325},
{8436,7510,10140,8346,8014,10116,8353,7006,10118,8832,7468,10326},
{8436,7490,10140,8353,7994,10118,8346,6986,10116,8825,7532,10323},
{8435,7470,10140,8360,7974,10120,8339,6966,10114,8811,7597,10317},
{8435,7449,10140,8366,7954,10122,8331,6946,10112,8787,7661,10308},
{8434,7429,10140,8372,7934,10123,8323,6926,10110,8756,7724,10295},
{8433,7409,10140,8378,7914,10125,8315,6906,10108,8717,7786,10280},
{8432,7389,10139,8384,7893,10126,8306,6886,10106,8670,7848,10261},
{8430,7369,10139,8389,7873,10128,8297,6866,10104,8617,7908,10240},
{8428,7348,10138,8394,7853,10129,8288,6846,10102,8557,7967,10216},
{8426,7328,10138,8399,7833,10130,8278,6827,10099,8492,8025,10189},
{8423,7308,10137,8403,7813,10131,8268,6807,10097,8421,8082,10160},
{8421,7288,10136,8407,7793,10133,8258,6787,10094,8347,8138,10129},
{8418,7268,10135,8411,7773,10134,8247,6767,10092,8268,8193,10097}};

int pose[100][12]={{8023,7917,10110,8867,7831,10110,8023,7283,10110,8867,7369,10110},
{8052,7939,10110,8890,7820,10110,7996,7306,10110,8842,7358,10110},
{8082,7958,10110,8911,7808,10110,7971,7330,10110,8816,7347,10110},
{8114,7976,10110,8930,7796,10110,7948,7356,10110,8788,7336,10110},
{8147,7991,10110,8947,7783,10110,7926,7383,10110,8759,7326,10110},
{8181,8004,10110,8963,7770,10110,7907,7411,10110,8728,7316,10110},
{8217,8016,10110,8976,7756,10110,7891,7440,10110,8696,7307,10110},
{8253,8024,10110,8988,7741,10110,7876,7470,10110,8663,7298,10110},
{8291,8031,10110,8998,7726,10110,7864,7500,10110,8629,7289,10110},
{8328,8035,10110,9005,7710,10110,7854,7530,10110,8593,7280,10110},
{8366,8037,10110,9011,7693,10110,7846,7561,10110,8557,7272,10110},
{8405,8036,10110,9015,7676,10110,7841,7591,10110,8520,7265,10110},
{8443,8033,10110,9017,7657,10110,7838,7621,10110,8483,7259,10110},
{8481,8028,10110,9016,7638,10110,7838,7651,10110,8445,7253,10110},
{8519,8021,10110,9014,7619,10110,7840,7680,10110,8407,7248,10110},
{8556,8011,10110,9010,7598,10110,7845,7708,10110,8369,7244,10110},
{8593,8000,10110,9004,7577,10110,7852,7736,10110,8331,7241,10110},
{8628,7987,10110,8997,7555,10110,7862,7762,10110,8294,7239,10110},
{8663,7972,10110,8987,7532,10110,7874,7787,10110,8257,7239,10110},
{8696,7955,10110,8975,7510,10110,7888,7811,10110,8220,7240,10110},
{8729,7937,10110,8962,7486,10110,7905,7833,10110,8184,7243,10110},
{8759,7918,10110,8946,7463,10110,7925,7853,10110,8149,7247,10110},
{8789,7898,10110,8929,7439,10110,7946,7872,10110,8116,7254,10110},
{8816,7876,10110,8910,7415,10110,7970,7889,10110,8083,7261,10110},
{8842,7854,10110,8889,7392,10110,7995,7904,10110,8052,7271,10110},
{8867,7831,10110,8867,7369,10110,8023,7917,10110,8023,7283,10110},
{8889,7808,10110,8842,7346,10110,8052,7929,10110,7995,7296,10110},
{8910,7785,10110,8816,7324,10110,8083,7939,10110,7970,7311,10110},
{8929,7761,10110,8789,7302,10110,8116,7946,10110,7946,7328,10110},
{8946,7737,10110,8759,7282,10110,8149,7953,10110,7925,7347,10110},
{8962,7714,10110,8729,7263,10110,8184,7957,10110,7905,7367,10110},
{8975,7690,10110,8696,7245,10110,8220,7960,10110,7888,7389,10110},
{8987,7668,10110,8663,7228,10110,8257,7961,10110,7874,7413,10110},
{8997,7645,10110,8628,7213,10110,8294,7961,10110,7862,7438,10110},
{9004,7623,10110,8593,7200,10110,8331,7959,10110,7852,7464,10110},
{9010,7602,10110,8556,7189,10110,8369,7956,10110,7845,7492,10110},
{9014,7581,10110,8519,7179,10110,8407,7952,10110,7840,7520,10110},
{9016,7562,10110,8481,7172,10110,8445,7947,10110,7838,7549,10110},
{9017,7543,10110,8443,7167,10110,8483,7941,10110,7838,7579,10110},
{9015,7524,10110,8405,7164,10110,8520,7935,10110,7841,7609,10110},
{9011,7507,10110,8366,7163,10110,8557,7928,10110,7846,7639,10110},
{9005,7490,10110,8328,7165,10110,8593,7920,10110,7854,7670,10110},
{8998,7474,10110,8291,7169,10110,8629,7911,10110,7864,7700,10110},
{8988,7459,10110,8253,7176,10110,8663,7902,10110,7876,7730,10110},
{8976,7444,10110,8217,7184,10110,8696,7893,10110,7891,7760,10110},
{8963,7430,10110,8181,7196,10110,8728,7884,10110,7907,7789,10110},
{8947,7417,10110,8147,7209,10110,8759,7874,10110,7926,7817,10110},
{8930,7404,10110,8114,7224,10110,8788,7864,10110,7948,7844,10110},
{8911,7392,10110,8082,7242,10110,8816,7853,10110,7971,7870,10110},
{8890,7380,10110,8052,7261,10110,8842,7842,10110,7996,7894,10110},
{8867,7369,10110,8023,7283,10110,8867,7831,10110,8023,7917,10110},
{8842,7358,10110,7996,7306,10110,8890,7820,10110,8052,7939,10110},
{8816,7347,10110,7971,7330,10110,8911,7808,10110,8082,7958,10110},
{8788,7336,10110,7948,7356,10110,8930,7796,10110,8114,7976,10110},
{8759,7326,10110,7926,7383,10110,8947,7783,10110,8147,7991,10110},
{8728,7316,10110,7907,7411,10110,8963,7770,10110,8181,8004,10110},
{8696,7307,10110,7891,7440,10110,8976,7756,10110,8217,8016,10110},
{8663,7298,10110,7876,7470,10110,8988,7741,10110,8253,8024,10110},
{8629,7289,10110,7864,7500,10110,8998,7726,10110,8291,8031,10110},
{8593,7280,10110,7854,7530,10110,9005,7710,10110,8328,8035,10110},
{8557,7272,10110,7846,7561,10110,9011,7693,10110,8366,8037,10110},
{8520,7265,10110,7841,7591,10110,9015,7676,10110,8405,8036,10110},
{8483,7259,10110,7838,7621,10110,9017,7657,10110,8443,8033,10110},
{8445,7253,10110,7838,7651,10110,9016,7638,10110,8481,8028,10110},
{8407,7248,10110,7840,7680,10110,9014,7619,10110,8519,8021,10110},
{8369,7244,10110,7845,7708,10110,9010,7598,10110,8556,8011,10110},
{8331,7241,10110,7852,7736,10110,9004,7577,10110,8593,8000,10110},
{8294,7239,10110,7862,7762,10110,8997,7555,10110,8628,7987,10110},
{8257,7239,10110,7874,7787,10110,8987,7532,10110,8663,7972,10110},
{8220,7240,10110,7888,7811,10110,8975,7510,10110,8696,7955,10110},
{8184,7243,10110,7905,7833,10110,8962,7486,10110,8729,7937,10110},
{8149,7247,10110,7925,7853,10110,8946,7463,10110,8759,7918,10110},
{8116,7254,10110,7946,7872,10110,8929,7439,10110,8789,7898,10110},
{8083,7261,10110,7970,7889,10110,8910,7415,10110,8816,7876,10110},
{8052,7271,10110,7995,7904,10110,8889,7392,10110,8842,7854,10110},
{8023,7283,10110,8023,7917,10110,8867,7369,10110,8867,7831,10110},
{7995,7296,10110,8052,7929,10110,8842,7346,10110,8889,7808,10110},
{7970,7311,10110,8083,7939,10110,8816,7324,10110,8910,7785,10110},
{7946,7328,10110,8116,7946,10110,8789,7302,10110,8929,7761,10110},
{7925,7347,10110,8149,7953,10110,8759,7282,10110,8946,7737,10110},
{7905,7367,10110,8184,7957,10110,8729,7263,10110,8962,7714,10110},
{7888,7389,10110,8220,7960,10110,8696,7245,10110,8975,7690,10110},
{7874,7413,10110,8257,7961,10110,8663,7228,10110,8987,7668,10110},
{7862,7438,10110,8294,7961,10110,8628,7213,10110,8997,7645,10110},
{7852,7464,10110,8331,7959,10110,8593,7200,10110,9004,7623,10110},
{7845,7492,10110,8369,7956,10110,8556,7189,10110,9010,7602,10110},
{7840,7520,10110,8407,7952,10110,8519,7179,10110,9014,7581,10110},
{7838,7549,10110,8445,7947,10110,8481,7172,10110,9016,7562,10110},
{7838,7579,10110,8483,7941,10110,8443,7167,10110,9017,7543,10110},
{7841,7609,10110,8520,7935,10110,8405,7164,10110,9015,7524,10110},
{7846,7639,10110,8557,7928,10110,8366,7163,10110,9011,7507,10110},
{7854,7670,10110,8593,7920,10110,8328,7165,10110,9005,7490,10110},
{7864,7700,10110,8629,7911,10110,8291,7169,10110,8998,7474,10110},
{7876,7730,10110,8663,7902,10110,8253,7176,10110,8988,7459,10110},
{7891,7760,10110,8696,7893,10110,8217,7184,10110,8976,7444,10110},
{7907,7789,10110,8728,7884,10110,8181,7196,10110,8963,7430,10110},
{7926,7817,10110,8759,7874,10110,8147,7209,10110,8947,7417,10110},
{7948,7844,10110,8788,7864,10110,8114,7224,10110,8930,7404,10110},
{7971,7870,10110,8816,7853,10110,8082,7242,10110,8911,7392,10110},
{7996,7894,10110,8842,7842,10110,8052,7261,10110,8890,7380,10110}};

int cross[100][12]={{8447,7600,10190,8434,7544,10139,8434,7656,10139,8422,7600,10090},
{8456,7600,10238,8431,7489,10136,8431,7711,10136,8406,7600,10038},
{8462,7600,10285,8425,7434,10131,8425,7766,10131,8389,7600,9984},
{8466,7600,10330,8416,7378,10124,8416,7822,10124,8369,7600,9929},
{8468,7600,10374,8406,7323,10115,8406,7877,10115,8347,7600,9873},
{8466,7600,10417,8392,7268,10104,8392,7932,10104,8323,7600,9815},
{8462,7600,10458,8377,7213,10092,8377,7987,10092,8297,7600,9756},
{8454,7600,10498,8358,7158,10077,8358,8042,10077,8269,7600,9695},
{8443,7600,10536,8337,7104,10060,8337,8096,10060,8239,7600,9632},
{8429,7600,10573,8314,7049,10041,8314,8151,10041,8207,7600,9567},
{8429,7600,10573,8314,7049,10041,8314,8151,10041,8328,7600,9656},
{8429,7600,10573,8314,7049,10041,8314,8151,10041,8469,7600,9794},
{8429,7600,10573,8314,7049,10041,8314,8151,10041,8613,7600,9965},
{8429,7600,10573,8314,7049,10041,8314,8151,10041,8742,7600,10149},
{8429,7600,10573,8314,7049,10041,8314,8151,10041,8833,7600,10326},
{8429,7600,10573,8314,7049,10041,8314,8151,10041,8866,7600,10477},
{8429,7600,10573,8314,7049,10041,8314,8151,10041,8828,7600,10584},
{8429,7600,10573,8314,7049,10041,8314,8151,10041,8724,7600,10635},
{8429,7600,10573,8314,7049,10041,8314,8151,10041,8580,7600,10629},
{8429,7600,10573,8314,7049,10041,8314,8151,10041,8429,7600,10573},
{8428,7533,10572,8302,7055,9992,8324,8158,10090,8428,7667,10572},
{8424,7466,10568,8287,7061,9941,8332,8165,10136,8424,7734,10568},
{8417,7400,10562,8270,7065,9888,8337,8173,10182,8417,7800,10562},
{8407,7334,10554,8251,7069,9834,8339,8182,10226,8407,7866,10554},
{8395,7268,10543,8229,7072,9778,8339,8191,10268,8395,7932,10543},
{8379,7204,10531,8206,7075,9721,8335,8201,10309,8379,7996,10531},
{8361,7140,10515,8180,7076,9662,8329,8212,10348,8361,8060,10515},
{8340,7078,10498,8152,7076,9601,8319,8222,10386,8340,8122,10498},
{8317,7016,10479,8122,7075,9538,8306,8233,10423,8317,8184,10479},
{8290,6955,10457,8089,7073,9473,8290,8245,10457,8290,8245,10457},
{8290,6955,10457,8205,7102,9539,8290,8245,10457,8290,8245,10457},
{8290,6955,10457,8328,7179,9611,8290,8245,10457,8290,8245,10457},
{8290,6955,10457,8438,7295,9675,8290,8245,10457,8290,8245,10457},
{8290,6955,10457,8513,7440,9720,8290,8245,10457,8290,8245,10457},
{8290,6955,10457,8540,7600,9736,8290,8245,10457,8290,8245,10457},
{8290,6955,10457,8513,7760,9720,8290,8245,10457,8290,8245,10457},
{8290,6955,10457,8438,7905,9675,8290,8245,10457,8290,8245,10457},
{8290,6955,10457,8328,8021,9611,8290,8245,10457,8290,8245,10457},
{8290,6955,10457,8205,8098,9539,8290,8245,10457,8290,8245,10457},
{8290,6955,10457,8089,8127,9473,8290,8245,10457,8290,8245,10457},
{8317,7016,10479,8122,8125,9538,8306,8233,10423,8317,8184,10479},
{8340,7078,10498,8152,8124,9601,8319,8222,10386,8340,8122,10498},
{8361,7140,10515,8180,8124,9662,8329,8212,10348,8361,8060,10515},
{8379,7204,10531,8206,8125,9721,8335,8201,10309,8379,7996,10531},
{8395,7268,10543,8229,8128,9778,8339,8191,10268,8395,7932,10543},
{8407,7334,10554,8251,8131,9834,8339,8182,10226,8407,7866,10554},
{8417,7400,10562,8270,8135,9888,8337,8173,10182,8417,7800,10562},
{8424,7466,10568,8287,8139,9941,8332,8165,10136,8424,7734,10568},
{8428,7533,10572,8302,8145,9992,8324,8158,10090,8428,7667,10572},
{8429,7600,10573,8314,8151,10041,8314,8151,10041,8429,7600,10573},
{8428,7667,10572,8324,8158,10090,8302,8145,9992,8428,7533,10572},
{8424,7734,10568,8332,8165,10136,8287,8139,9941,8424,7466,10568},
{8417,7800,10562,8337,8173,10182,8270,8135,9888,8417,7400,10562},
{8407,7866,10554,8339,8182,10226,8251,8131,9834,8407,7334,10554},
{8395,7932,10543,8339,8191,10268,8229,8128,9778,8395,7268,10543},
{8379,7996,10531,8335,8201,10309,8206,8125,9721,8379,7204,10531},
{8361,8060,10515,8329,8212,10348,8180,8124,9662,8361,7140,10515},
{8340,8122,10498,8319,8222,10386,8152,8124,9601,8340,7078,10498},
{8317,8184,10479,8306,8233,10423,8122,8125,9538,8317,7016,10479},
{8290,8245,10457,8290,8245,10457,8089,8127,9473,8290,6955,10457},
{8290,8245,10457,8290,8245,10457,8205,8098,9539,8290,6955,10457},
{8290,8245,10457,8290,8245,10457,8328,8021,9611,8290,6955,10457},
{8290,8245,10457,8290,8245,10457,8438,7905,9675,8290,6955,10457},
{8290,8245,10457,8290,8245,10457,8513,7760,9720,8290,6955,10457},
{8290,8245,10457,8290,8245,10457,8540,7600,9736,8290,6955,10457},
{8290,8245,10457,8290,8245,10457,8513,7440,9720,8290,6955,10457},
{8290,8245,10457,8290,8245,10457,8438,7295,9675,8290,6955,10457},
{8290,8245,10457,8290,8245,10457,8328,7179,9611,8290,6955,10457},
{8290,8245,10457,8290,8245,10457,8205,7102,9539,8290,6955,10457},
{8290,8245,10457,8290,8245,10457,8089,7073,9473,8290,6955,10457},
{8317,8184,10479,8306,8233,10423,8122,7075,9538,8317,7016,10479},
{8340,8122,10498,8319,8222,10386,8152,7076,9601,8340,7078,10498},
{8361,8060,10515,8329,8212,10348,8180,7076,9662,8361,7140,10515},
{8379,7996,10531,8335,8201,10309,8206,7075,9721,8379,7204,10531},
{8395,7932,10543,8339,8191,10268,8229,7072,9778,8395,7268,10543},
{8407,7866,10554,8339,8182,10226,8251,7069,9834,8407,7334,10554},
{8417,7800,10562,8337,8173,10182,8270,7065,9888,8417,7400,10562},
{8424,7734,10568,8332,8165,10136,8287,7061,9941,8424,7466,10568},
{8428,7667,10572,8324,8158,10090,8302,7055,9992,8428,7533,10572},
{8429,7600,10573,8314,8151,10041,8314,7049,10041,8429,7600,10573},
{8580,7600,10629,8314,8151,10041,8314,7049,10041,8429,7600,10573},
{8724,7600,10635,8314,8151,10041,8314,7049,10041,8429,7600,10573},
{8828,7600,10584,8314,8151,10041,8314,7049,10041,8429,7600,10573},
{8866,7600,10477,8314,8151,10041,8314,7049,10041,8429,7600,10573},
{8833,7600,10326,8314,8151,10041,8314,7049,10041,8429,7600,10573},
{8742,7600,10149,8314,8151,10041,8314,7049,10041,8429,7600,10573},
{8613,7600,9965,8314,8151,10041,8314,7049,10041,8429,7600,10573},
{8469,7600,9794,8314,8151,10041,8314,7049,10041,8429,7600,10573},
{8328,7600,9656,8314,8151,10041,8314,7049,10041,8429,7600,10573},
{8207,7600,9567,8314,8151,10041,8314,7049,10041,8429,7600,10573},
{8239,7600,9632,8337,8096,10060,8337,7104,10060,8443,7600,10536},
{8269,7600,9695,8358,8042,10077,8358,7158,10077,8454,7600,10498},
{8297,7600,9756,8377,7987,10092,8377,7213,10092,8462,7600,10458},
{8323,7600,9815,8392,7932,10104,8392,7268,10104,8466,7600,10417},
{8347,7600,9873,8406,7877,10115,8406,7323,10115,8468,7600,10374},
{8369,7600,9929,8416,7822,10124,8416,7378,10124,8466,7600,10330},
{8389,7600,9984,8425,7766,10131,8425,7434,10131,8462,7600,10285},
{8406,7600,10038,8431,7711,10136,8431,7489,10136,8456,7600,10238},
{8422,7600,10090,8434,7656,10139,8434,7544,10139,8447,7600,10190},
{8436,7600,10140,8436,7600,10140,8436,7600,10140,8436,7600,10140}};

unsigned short servo_position(unsigned char id,int pos)
{
    tx[0] = 0x80|id;
    tx[1] = (unsigned char)((pos & mask_h)>>7);
    tx[2] = (unsigned char)(pos & mask_l);
    wait_ms(2);
    for(i=0;i<3;i++)
    {
        serial_servo.putc(tx[i]);
    }
    return 0;
}

unsigned short servo_speed(unsigned char id,int speed)
{
        tx[0] = 0xC0|id;
        tx[1] = 0x02;
        tx[2] = 0x00|speed;
        wait_ms(2);
        for(i=0;i<3;i++)
        {
            serial_servo.putc(tx[i]);
        }
        return 0;
}

//電流値の読み込み
/*unsigned short servo_current(unsigned char id)
{
        tx[0] = 0xC0|id;
        tx[1] = 0x03;
        //tx[2] = 0x00|speed;
        wait_ms(2);
        for(i=0;i<3;i++)
        {
            serial_servo.putc(tx[i]);
        }
        pc.printf("current2"); //ここまではいける
        if(pc.readable == 1){
            for(i=0;i<5;i++){
                pc.printf("for");
                rx[i] = serial_servo.getc();
            }
        }
        
        pc.printf("current3");
        pc.printf("%c%c%c%c%c", rx[0], rx[1], rx[2], rx[3], rx[4]);
        
        return 0;
}*/

void pc_command()
{
    ch = pc.getc();
    pc.putc(ch);
}

void close_motion()
{
    for(j=1;j<13;j++){
        servo_speed(j,30);
    }
    servo_position(1,10167);
    servo_position(4,10167);
    servo_position(7,10167);
    servo_position(10,10167);
    
    servo_position(2,7600);
    servo_position(5,7600);
    servo_position(8,7600);
    servo_position(11,7600);
    
    servo_position(3,11500);
    servo_position(6,11500);
    servo_position(9,11500);
    servo_position(12,11500);
    wait_ms(2000);
    
    servo_position(2,4933);
    servo_position(5,4933);
    servo_position(8,4933);
    servo_position(11,4933);
}

void open_motion_crawl()
{
    for(j=1;j<13;j++){
        servo_speed(j,50);
    }
    servo_position(2,7600);
    servo_position(5,7600);
    servo_position(8,7600);
    servo_position(11,7600);
    wait_ms(500);
    
    servo_position(3,10294);
    servo_position(6,10294);
    servo_position(9,10294);
    servo_position(12,10294);
    wait_ms(60);
    
    servo_position(1,8820);
    servo_position(4,8820);
    servo_position(7,8820);
    servo_position(10,8820);
    wait_ms(100);
    
    while(open_count<open_crawl_max){
        servo_position(10,open_crawl[open_count][0]);
        servo_position(11,open_crawl[open_count][1]);
        servo_position(12,open_crawl[open_count][2]);
        servo_position(1,open_crawl[open_count][3]);
        servo_position(2,open_crawl[open_count][4]);
        servo_position(3,open_crawl[open_count][5]);
        servo_position(7,open_crawl[open_count][6]);
        servo_position(8,open_crawl[open_count][7]);
        servo_position(9,open_crawl[open_count][8]);
        servo_position(4,open_crawl[open_count][9]);
        servo_position(5,open_crawl[open_count][10]);
        servo_position(6,open_crawl[open_count][11]);
        open_count++;
    }
    open_count=0;
}

void open_motion_trot()
{
    for(j=1;j<13;j++){
        servo_speed(j,50);
    }
    servo_position(2,7600);
    servo_position(5,7600);
    servo_position(8,7600);
    servo_position(11,7600);
    wait_ms(500);
    
    servo_position(3,10294);
    servo_position(6,10294);
    servo_position(9,10294);
    servo_position(12,10294);
    wait_ms(60);
    
    servo_position(1,8820);
    servo_position(4,8820);
    servo_position(7,8820);
    servo_position(10,8820);
    wait_ms(100);
    
    while(count<open_trot_max){
        servo_position(10,open_trot[count][0]);
        servo_position(11,open_trot[count][1]);
        servo_position(12,open_trot[count][2]);
        servo_position(1,open_trot[count][3]);
        servo_position(2,open_trot[count][4]);
        servo_position(3,open_trot[count][5]);
        servo_position(7,open_trot[count][6]);
        servo_position(8,open_trot[count][7]);
        servo_position(9,open_trot[count][8]);
        servo_position(4,open_trot[count][9]);
        servo_position(5,open_trot[count][10]);
        servo_position(6,open_trot[count][11]);
        count++;
    }
    count=0;
}

void crawl_motion()
{
    for(j=1;j<13;j++){
        servo_speed(j,70);
    }
    while(count<crawl_max){
        servo_position(10,crawl[count][0]);
        //servo_current(0xc0);
        servo_position(11,crawl[count][1]);
        servo_position(12,crawl[count][2]);
        servo_position(1,crawl[count][3]);
        servo_position(2,crawl[count][4]);
        servo_position(3,crawl[count][5]);
        servo_position(7,crawl[count][6]);
        servo_position(8,crawl[count][7]);
        servo_position(9,crawl[count][8]);
        servo_position(4,crawl[count][9]);
        servo_position(5,crawl[count][10]);
        servo_position(6,crawl[count][11]);
        count++;
    }
    count=0;
}

void trot_motion()
{
    for(j=1;j<13;j++){
        servo_speed(j,70);
    }
    while(count<trot_max){
        servo_position(10,trot[count][0]);
        servo_position(11,trot[count][1]);
        servo_position(12,trot[count][2]);
        servo_position(1,trot[count][3]);
        servo_position(2,trot[count][4]);
        servo_position(3,trot[count][5]);
        servo_position(7,trot[count][6]);
        servo_position(8,trot[count][7]);
        servo_position(9,trot[count][8]);
        servo_position(4,trot[count][9]);
        servo_position(5,trot[count][10]);
        servo_position(6,trot[count][11]);
        count++;
    }
    count=0;
}

void turn_left()
{
    for(j=1;j<13;j++)
    {
        servo_speed(j,70);
    }
    while(count<turn_max)
    {
        servo_position(1,left[count][0]);
        servo_position(2,left[count][1]);
        servo_position(3,left[count][2]);
        servo_position(4,left[count][3]);
        servo_position(5,left[count][4]);
        servo_position(6,left[count][5]);
        servo_position(10,left[count][6]);
        servo_position(11,left[count][7]);
        servo_position(12,left[count][8]);
        servo_position(7,left[count][9]);
        servo_position(8,left[count][10]);
        servo_position(9,left[count][11]);
        count++;
    }
    count=0;
}

void turn_right()
{
    for(j=1;j<13;j++)
    {
        servo_speed(j,70);
    }
    while(count<turn_max)
    {
        servo_position(1,right[count][0]);
        servo_position(2,right[count][1]);
        servo_position(3,right[count][2]);
        servo_position(4,right[count][3]);
        servo_position(5,right[count][4]);
        servo_position(6,right[count][5]);
        servo_position(10,right[count][6]);
        servo_position(11,right[count][7]);
        servo_position(12,right[count][8]);
        servo_position(7,right[count][9]);
        servo_position(8,right[count][10]);
        servo_position(9,right[count][11]);
        count++;
    }
    count=0;
}

void pose_rotate()
{
    for(j=1;j<13;j++)
    {
        servo_speed(j,70);
    }
    while(count<pose_max)
    {
        servo_position(1,pose[count][0]);
        servo_position(2,pose[count][1]);
        servo_position(3,pose[count][2]);
        servo_position(4,pose[count][3]);
        servo_position(5,pose[count][4]);
        servo_position(6,pose[count][5]);
        servo_position(10,pose[count][6]);
        servo_position(11,pose[count][7]);
        servo_position(12,pose[count][8]);
        servo_position(7,pose[count][9]);
        servo_position(8,pose[count][10]);
        servo_position(9,pose[count][11]);
        count++;
    }
    count=0;
}

void cross_gait()
{
    for(j=1;j<13;j++)
    {
        servo_speed(j,70);
    }
    while(count<cross_max)
    {
        servo_position(4,cross[count][0]);
        servo_position(5,cross[count][1]);
        servo_position(6,cross[count][2]);
        servo_position(1,cross[count][3]);
        servo_position(2,cross[count][4]);
        servo_position(3,cross[count][5]);
        servo_position(7,cross[count][6]);
        servo_position(8,cross[count][7]);
        servo_position(9,cross[count][8]);
        servo_position(10,cross[count][9]);
        servo_position(11,cross[count][10]);
        servo_position(12,cross[count][11]);
        count++;
    }
    count=0;
}

int main()
{
    wait_ms(500);
    serial_servo.baud(115200);
    serial_servo.format(8,Serial::Even,1);
    
    pc.baud(115200);
    pc.format(8,Serial::None,1);
    
    pc.printf("press 'c'\n\t-");
    pc.attach(pc_command,Serial::RxIrq);
    
    while(1)
    {
        switch(ch)
        {
            case 'c':
            close_motion();
            wait_ms(20);
            pc.printf("\n");
            ch=0;
            flag_close=ON;
            flag_open_crawl=OFF;
            flag_open_trot=OFF;
            break;
                
            case '1':
            if(flag_close==ON)
            {
                open_motion_crawl();
                wait_ms(20);
                flag_close=OFF;
                flag_open_crawl=ON;
            }
            ch=0;
            break;
            
            case '2':
            if(flag_close==ON)
            {
                open_motion_trot();
                wait_ms(20);
                flag_close=OFF;
                flag_open_trot=ON;
            }
            ch=0;
            break;
            
            case 'k':
            if(flag_open_crawl==ON)
            {
                crawl_motion();
                wait_ms(20);
            }
            ch=0;
            break;
            
            case 't':
            if(flag_open_trot==ON)
            {
                trot_motion();
                wait_ms(20);
            }
            ch=0;
            break;
            
            case 'l':
            if(flag_open_crawl==ON)
            {
                turn_left();
                wait_ms(20);
            }
            ch=0;
            break;
            
            case 'r':
            if(flag_open_crawl==ON)
            {
                turn_right();
                wait_ms(20);
            }
            ch=0;
            break;
            
            case 'p':
            if(flag_open_crawl==ON)
            {
                pose_rotate();
                wait_ms(20);
            }
            ch=0;
            break;
            
            case 'q':
            if(flag_open_crawl==ON)
            {
                cross_gait();
                wait_ms(20);
            }
            ch=0;
            break;
            
            default:
            break;
        }
    }
}